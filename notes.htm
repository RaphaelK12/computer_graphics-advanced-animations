<!DOCTYPE html>
<html>
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app29.us.archive.org';v.server_ms=1029;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/ait-client-rewrite.js" charset="utf-8"></script>
<script type="text/javascript">
WB_wombat_Init("https://web.archive.org/web/", "20170907191720", "pellacini.di.uniroma1.it:80");
</script>
<script type="text/javascript" src="/_static/js/wbhack.js" charset="utf-8"></script>
<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css" />
<!-- End Wayback Rewrite JS Include -->

    <meta charset="utf-8">
    <style>
    /*! normalize.css v2.1.0 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 8/9.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 8/9.
 */

audio,
canvas,
video {
    display: inline-block;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 8/9.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    font-family: sans-serif; /* 1 */
    -webkit-text-size-adjust: 100%; /* 2 */
    -ms-text-size-adjust: 100%; /* 2 */
}

/**
 * Remove default margin.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari 5, and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

/**
 * Address styling not present in IE 8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Correct font family set oddly in Safari 5 and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre-wrap;
}

/**
 * Set consistent quote types.
 */

q {
    quotes: "\201C" "\201D" "\2018" "\2019";
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * Remove border when inside `a` element in IE 8/9.
 */

img {
    border: 0;
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 8/9 and Safari 5.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct `color` not being inherited in IE 8/9.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */

legend {
    border: 0; /* 1 */
    padding: 0; /* 2 */
}

/**
 * 1. Correct font family not being inherited in all browsers.
 * 2. Correct font size not being inherited in all browsers.
 * 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome.
 */

button,
input,
select,
textarea {
    font-family: inherit; /* 1 */
    font-size: 100%; /* 2 */
    margin: 0; /* 3 */
}

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to `content-box` in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 4+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}
@import url(https://web.archive.org/web/20170907191720cs_/http://fonts.googleapis.com/css?family=Open+Sans:400,700|Inconsolata:400,700);

html {
    margin: 0;
    padding: 0;
}

body {
    margin: 0 auto;
    padding: 0;
    width: 600px;
    font-family: 'Open Sans', sans-serif;
    font-size: 16px;
    line-height: 24px;
}

h1 {
    font-size: 32px;
    line-height: 48px;
    margin: 144px 0 24px 0;
}

h2 {
    font-size: 28px;
    line-height: 48px;
    margin: 0 0 24px 0;
}

h3 {
    font-size: 22px;
    line-height: 24px;
    margin: 48px 0 24px 0;
}

p, ul {
    margin: 0 0 24px 0;
}

ul ul {
    margin: 0 0 0 0;
}

pre {
    margin: 0 0 24px 0;
}

code {
    font-family: Inconsolata, monospace;
}

@media print {
    body {
        margin: 72px 72px;
    }
    @page {
        margin: 48px 48px;
    }
}

    </style>
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="/_static/js/timestamp.js" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/graph-calc.js" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/auto-complete.js" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/toolbar.js" charset="utf-8"></script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0" /></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a href="#"
             onclick="__wm.saveSnapshot('http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html', '20170907191720')"
             title="Share via My Web Archive"
             id="wm-save-snapshot-open"
          >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php"
             title="Sign In"
             id="wm-sign-in"
          >
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share">
          <a href="/web/20170907191720/http://web.archive.org/screenshot/http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html"
             id="wm-screenshot"
             title="screenshot">
              <span class="wm-icon-screen-shot"></span>
          </a>
	<a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://web.archive.org/web/20170907191720/http://pellacini.di.uniroma1.it:80/teaching/graphics16/assignments/03_animate/notes.html', '', 'height=400,width=600'); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=https://web.archive.org/web/20170907191720/http://pellacini.di.uniroma1.it:80/teaching/graphics16/assignments/03_animate/notes.html&amp;via=internetarchive', '', 'height=400,width=600'); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20170907191720" /><input type="submit" value="Go" /></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap">Aug</td>
		  <td class="c" id="displayMonthEl" title="You are here: 19:17:20 Sep 07, 2017">SEP</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20171107163020/http://pellacini.di.uniroma1.it:80/teaching/graphics16/assignments/03_animate/notes.html" title="07 Nov 2017"><strong>Nov</strong></a></td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" /></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 19:17:20 Sep 07, 2017">07</td>
		  <td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20171107163020/http://pellacini.di.uniroma1.it:80/teaching/graphics16/assignments/03_animate/notes.html" title="16:30:20 Nov 07, 2017"><img src="/_static/images/toolbar/wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0" /></a></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap">2016</td>
		  <td class="c" id="displayYearEl" title="You are here: 19:17:20 Sep 07, 2017">2017</td>
		  <td class="f" nowrap="nowrap">2018</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20170907191720*/http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html" title="See a list of every capture for this URL">2 captures</a>
	      <div class="r" title="Timespan for captures of this URL">07 Sep 2017 - 07 Nov 2017</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="625" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
  </div></div></div></div><div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;transpiled=0&amp;referer=https%3A//web.archive.org/web/20170907191720/http%3A//pellacini.di.uniroma1.it%3A80/teaching/graphics16/assignments/03_animate/notes.html"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(625,27,25,2,"web","http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html","2017-09-07",1996,"/_static/",['css/banner-styles.css','css/iconochive.css']);
__wm.checkScreenShot("http://pellacini.di.uniroma1.it/teaching/graphics16/assignments/03_animate/notes.html", '20170907191720');
</script>
<!-- END WAYBACK TOOLBAR INSERT -->
    <h1>Assignment 4: Animate</h1>
<p>Out: Nov 22. Due: Dec 13.</p>
<h3>Introduction</h3>
<p>In your third assignment, you will implement animation in a simple interactive application.  You will see that with a small amount of code, we can produce realistic animations.</p>
<p>You are to perform this assignment using C++.  To ease your development, we are providing a simple C++ framework to represent the scene, perform basic mathematical calculations, and save your image results.  The framework also contain simple test scenes to judge the correctness of your algorithm. These test scenes are encoded in JSON, a readable ASCII format. You can compare to the correct output images we supply. To build the framework, you can use either Visual Studio Express 2013 on Windows or XCode 6 on OS X. We will use external libraries to help us interact with the system, including GLFW for window management and GLEW to access OpenGL functions on Windows.</p>
<p>For this assignment, we will provide executables for Windows and OSX of the solution. This is to help you see the "correct" animation as it is played back.</p>
<h3>Framework Overview</h3>
<p>We suggest you use our framework to create your renderer.  We have removed from the code all the function implementations your will need to provide, but we have left the function declarations which can aid you in planning your solution. All code in the framework is documented, so please read the documentation for further information. Following is a brief description of the content of the framework.</p>
<ul>
<li><strong>common.h</strong> includes the basic files from the standard library and contains general utilities such as print messages, handle errors, and enable Python-style foreach loops;</li>
<li><strong>vmath.h</strong> includes various math functions from the standard library, and math types specific to graphics; <code>vecXX</code>s are 2d, 3d and 4d tuples, both float and integerers, with related arithmetic options and functions - you should use this type for point, vectors, colors, etc.; <code>frame3f</code>s are 3d frames with transformations to and from the frame for points, vectors, normals, etc.; <code>mat4f</code> defines a 4x4 matrix with matrix-vector operations and functions to create transform matrices and convert frames</li>
<li><strong>image.h/image.cpp</strong> defines a color image, with pixel access operations and image loading/saving operations</li>
<li><strong>lodepng.h/lodepng.cpp</strong> provide support for the PNG file format</li>
<li><strong>json.h/json.cpp/picojson.h</strong> provide support for the JSON file format</li>
<li><strong>scene.h/scene.cpp</strong> defines the scene data structure and provide JSON scene loading</li>
<li><strong>tesselation.h/tesselation.cpp</strong>: implements smooth curves and surfaces</li>
<li><strong>animation.h/animation.cpp</strong>: implements animation and simulation: <em>your code goes here</em></li>
<li><strong>animate.cpp</strong> implements the OpenGL renderer and the interaction</li>
<li><strong>animate_vertex.glsl/animate_fragment.glsl</strong>: vertex and fragment shaders: <em>your extra credit code goes here</em></li>
</ul>
<p>In this homework, scenes are becoming more complex. A <code>Scene</code> is comprised of a <code>Camera</code>, and a list of <code>Mesh</code>es, a list of <code>Surface</code>s and a list of <code>Light</code>s. The <code>Camera</code> is defined by its frame, the size and distance of the image plane and the focus distance (used for interaction). Each <code>Mesh</code> is a collection of either points, lines or triangles and quads, centered with respect to its frame, and colored according to a Blinn-Phong <code>Material</code> with diffuse, specular coefficients. Each <code>Mesh</code> is represented as an indexed polygonal mesh, with vertex position normals and texture coordinates. Each <code>spline</code> segment is the reference to the four vertices of the Bezier. Each <code>Surface</code> can be either a quad or a sphere, as before. Each <code>Light</code> is a point light centered with respect to its frame and with given intensity. The scene also includes the background color, the ambient illumination, the image resolution and the samples per pixel.</p>
<p>Animation data is store in auxiliary structures, in <code>Mesh</code>es, <code>Surface</code>s and the <code>Scene</code>. The scene animation data includes the current <code>time</code> (measured a frame number), the total animation <code>length</code>, the time in seconds for each frame <code>dt</code>, the number of simulation steps <code>simsteps</code> for each frame, the <code>gravity</code> acceleration and the dumpening coefficients for the <code>bounce_bump</code> (parallel, ortho respectively).</p>
<p>The <code>Mesh</code> animation data is divided into separate structures. If a structure is missing, just skip that mesh. <code>MeshAnimation</code> contains keyframe data for the mesh frame, including the initial frame <code>rest_frame</code>, the times for each keyframe <code>keytimes</code>, and values for <code>translation</code> and <code>rotation</code>. <code>MeshSkinning</code> contains skinning data, including rest position <code>rest_pos</code> and normals <code>rest_norm</code>, per-vertex bone indices <code>bone_ids</code> and weights <code>bone_weights</code>. We decide that maximum 4 bonces can be active at any given time, and indicated with -1 if a bone index is unused. Bone animation is included in <code>bone_xforms</code> which stored transform matrices for each bone and time frame. <code>MeshSimulation</code> defines simulation data, storing initial position and velocities <code>init_pos</code>, <code>init_vel</code>, <code>mass</code> and whether a point is locked into its position <code>pinned</code> (just skip these in the simulation loop). During simulation, just update the vertex position in <code>mesh-&gt;pos</code> and the velocities in <code>mesh-&gt;simulation-&gt;vel</code>. Finally, we inlude a list of <code>springs</code>, each with vertex indices <code>ids</code>, rest length <code>restlength</code> and static <code>ks</code> and dynamic <code>kd</code> conefficients. We also include collision data in <code>MeshCollision</code> that represents the simple primitive, sphere or quad, a <code>Mesh</code> is associated with.</p>
<p>In this homework, model geometry is read from RAW files. This is a trivial file format we built for the course to make parsing trivial in C++. This geometry is stored in the <code>models</code> directory.</p>
<p>We provide very simple interactions for your viewer. Clicking and moving the mouse lets you rotate the model. If you want to save, please restart the program to avoid issues, and press <code>s</code>. For debugging purposes, it is helpful to see face edges. You can do so with wireframing, enabled with <code>w</code>. Animation is enabled by hitting space <code></code> and GPU skinning is enabled with <code>g</code> (only for extra credit work). We also provide version of the test cases that only include 1/3 of the frames; these are the ones you should use to compute the images.</p>
<p>Since we perform a lot of computation, we suggest you compile in <code>Release</code> mode. You <code>Debug</code> mode only when deemed stricly necessary. You can also modify the scenes, including the amount of samples while debugging. </p>
<h3>Requirements</h3>
<p>You are to implement the code left blank in <code>animation.cpp</code>. You will implement these features.</p>
<ol>
<li>
<p>Keyframe interpolation (<code>animation.cpp#animate_frame</code>). Implement keyframe interpolation of the Mesh frame. In this homework, linearly interpolate translation and rotation angles stored in the keyframe, based on the key times. The final transform matrix is written as <code>translate * rotate_z * rotate_y * rotate_x</code> and should be multipled by the <code>rest_frame</code> to obtain the current <code>mesh-&gt;frame</code>.</p>
</li>
<li>
<p>Skinning (<code>animation.cpp#animate_skin</code>). Implement mesh skinning by computing both position <code>pos</code> and normals <code>norm</code> based on the bone transforms, skin weights and rest positions <code>rest_pos</code> and normals <code>rest_norm</code>. The various variables are described above and in the code.</p>
</li>
<li>
<p>Simulation (<code>animation.cpp#simulate</code>). Implement a particle-based simulator for particle systems, cloth and soft bodies.</p>
<ol>
<li>Implement particle dynamics, by first setting the force based on gravity and particle mass, and then using Euler integration to advance the particles. Remember that the simulation is performed <code>simsteps</code> times, each of which advancing the time by <code>dt/simsteps</code>.</li>
<li>Add collision after Euler integration, by first checking if a particle is inside a Mesh (using the proxy collision data), and then adjusting position and velocity.</li>
<li>Add springs to the force computation for cloth and soft bodies.</li>
</ol>
</li>
</ol>
<h3>Hints</h3>
<p>We suggest to implement the renderer following the steps presented above.  To debug code, you can use the step by step advancing.</p>
<h3>Submission</h3>
<p>Please sent an email to <code>pellacini@di.uniroma1.it</code> with your code as well as the images generated as a .zip file. <strong>Upload the results of your animation on YouTube and send the links in the email</strong>. If the animation are not uploaded on YouTube, you will have points detracted. You can capture animation on your systems with a variety of tolls such as Camtasia for Windows and the built in QuickTime on Mac, but any tools is fine. If you want, you can also make a GIF for your video using any online site and attached it in the ZIP. </p>
<h3>Extra Credit</h3>
<ol>
<li>
<p>Implement skinning on the GPU. You can implement the same exact algorithm. Just pass the arrays to the vertex shader and execute skinning there.</p>
</li>
<li>
<p>Implement simple Soft Body Dynamics. Just like cloth, we can implement soft body dynamics putting springs <em>in the volume</em>. To do so, create tetrahedra for your mesh, using the open source TetGen library (search on Google). Then attach springs to each tetrahedra edge and your done. Follow the setup for the cloth simulator for this.</p>
</li>
<li>
<p>Collision Detection. Implement cloth internal collision detection using Bridgon algorithm. If you are intereted in this extra credit, contact Prof. Pellacini for further instructions.</p>
</li>
</ol>
</body>
</html>
<!--
     FILE ARCHIVED ON 19:17:20 Sep 07, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 17:35:11 Mar 29, 2020.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  LoadShardBlock: 157.306 (3)
  exclusion.robots.policy: 0.268
  captures_list: 176.208
  CDXLines.iter: 15.144 (3)
  esindex: 0.013
  load_resource: 844.418
  exclusion.robots: 0.281
  RedisCDXSource: 0.671
  PetaboxLoader3.resolve: 725.12
  PetaboxLoader3.datanode: 187.937 (4)
-->